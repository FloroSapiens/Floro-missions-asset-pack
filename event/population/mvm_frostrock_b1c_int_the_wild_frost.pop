// credit to lobotomy and claudz for helping me with the vscript stuff in general
// collab between floro and furuka
// note this currently depends on popext and the current nut file (wildfrost_phrases.nut)
#base       robot_giant.pop
#base       robot_standard.pop
#base       robot_wildfrost.pop

WaveSchedule
{
    StartingCurrency                    1200
    RespawnWaveTime                     2
    CanBotsAttackWhileInSpawnRoom       no
    Advanced                            1

    Mission	// sentry buster
    {
        Objective               DestroySentries
        InitialCooldown         20
        Where                   spawnbot
        BeginAtWave             1
        RunForThisManyWaves     6
        CooldownTime            20

        TFBot
        {
            Template    T_TFBot_SentryBuster
        }
    }

    Mission
    {
        Objective               Sniper
        InitialCooldown         10
        Where                   spawnbot_mission_sniper
        BeginAtWave             3
        RunForThisManyWaves     1
        CooldownTime            20
        DesiredCount            2

        TFBot
        {
            Class               Sniper
            Skill               Expert
            Name                Sniper
            MaxVisionRange      3000
        }
    }

    Mission
    {
        Objective               Spy
        InitialCooldown         60
        Where                   spawnbot
        BeginAtWave             4
        RunForThisManyWaves     1
        CooldownTime            25
        DesiredCount            4

        TFBot
        {
            Class Spy
            Skill Expert
        }
    }

    Mission
    {
        Objective               Engineer
        InitialCooldown         60
        Where                   spawnbot
        BeginAtWave             6
        RunForThisManyWaves     1
        CooldownTime            30
        DesiredCount            1

        TFBot
        {
            Template    T_TFBot_Engineer_Sentry_Teleporter
        }
    }

    Wave
    {
        StartWaveOutput
        {
            Target      wave_start_relay
            Action      Trigger
        }

        Initwaveoutput
        {
            Target      wave_start_relay
            Action      RunScriptCode
            Param       "
            DoEntFire(`relay_snow_light_start`, `Trigger`, `0`, 0, null, null);     
            SpawnEntityFromTable(`env_shake`,{
            targetname = `shake`
            origin = Vector(-3122, -8, 232)
            amplitude = 12
            spawnflags = `5`
            duration = 12
            frequency = 20
            })
            "
        }

        DoneOutput
        {
            Target      wave_finished_relay
            Action      trigger
        }
        WaitWhenDone    65
        Checkpoint      Yes

        WaveSpawn
        {
            Name                    1-bait
            Where                   spawnbot
            TotalCount              24
            MaxActive               20
            SpawnCount              4
            TotalCurrency           25
            WaitBetweenSpawns       1.5

            RandomChoice
            {
                TFBot
                {
                    Template    T_TFBot_Heavyweapons_Heavyweight_Champ_Fast
                }

                TFBot
                {
                    Template    T_TFBot_Heavyweapons_Heavyweight_Champ_Fast
                }

                TFBot
                {
                    Template    T_TFBot_Pyro
                    Skill       Easy
                }
            }
        }

        WaveSpawn
        {
            Name                1-thegiant
            WaitForAllDead      1-bait
            Where               spawnbot
            TotalCount          3
            MaxActive           3
            SpawnCount          3
            TotalCurrency       25

            Squad
            {
                TFBot
                {
                    Template    T_TFBot_Giant_Soldier
                    Name        "Giant Weak Snowball Soldier"

                    ItemAttributes
                    {
                        ItemName                            TF_WEAPON_ROCKETLAUNCHER
                        // steal this for model lawl @floro
                        "custom projectile model"           models/weapons/w_models/w_baseball.mdl
                        "mult projectile scale"             1.3 [$Sigsegv]
                        "apply look velocity on damage"     300
                        "damage bonus"                      0.4
                        "blast dmg to self increased"       0
                        "projectile trail particle"         ~critical_rocket_blue
                        //
                    }
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                }
            }
        }

        WaveSpawn
        {
            Name                    1-Ab
            WaitForAllDead          1-thegiant
            Where                   spawnbot
            TotalCount              3
            MaxActive               1
            SpawnCount              1
            WaitBeforeStarting      0
            WaitBetweenSpawns       20
            TotalCurrency           150

            TFBot
            {
                Template    T_TFBot_Giant_Scout_Fast
            }
        }

        WaveSpawn
        {
            Name                    1-A-Supports
            WaitForAllSpawned       1-thegiant
            Where                   spawnbot_flank
            TotalCount              24
            MaxActive               8
            SpawnCount              4
            WaitBeforeStarting      8
            WaitBetweenSpawns       14
            TotalCurrency           50

            TFBot
            {
                Name        "behind u lol"
                Template    T_TFBot_Demoman_Knight
            }
        }

        WaveSpawn
        {
            Name                    1-A-SupportsLimi
            WaitForAllDead          1-thegiant
            Where                   spawnbot
            TotalCount              28
            MaxActive               12
            SpawnCount              6
            WaitBeforeStarting      15
            WaitBetweenSpawns       6
            TotalCurrency           50
            Support                 Limited

            TFBot
            {
                Template    T_TFBot_Scout_Sandman
            }
        }

        WaveSpawn
        {
            Name                    1-B
            Where                   spawnbot_flank
            WaitForAllDead          1-thegiant
            TotalCount              6
            MaxActive               6
            SpawnCount              3
            WaitBetweenSpawns       23
            WaitBeforeStarting      25
            TotalCurrency           100

            Squad
            {
                TFBot
                {
                    Template    T_TFBot_Giant_Soldier
                    Name        "Giant Weak Snowball Soldier"

                    ItemAttributes
                    {
                        ItemName                            TF_WEAPON_ROCKETLAUNCHER
                        // steal this for model lawl @floro
                        "custom projectile model"           models/weapons/w_models/w_baseball.mdl
                        "mult projectile scale"             1.3 [$Sigsegv]
                        "apply look velocity on damage"     300
                        "damage bonus"                      0.4
                        "blast dmg to self increased"       0
                        "projectile trail particle"         ~critical_rocket_blue
                        //
                    }
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                }
            }
        }

        WaveSpawn
        {
            Name                    1-C
            Where                   spawnbot_flank
            WaitForAllSpawned       1-B
            TotalCount              3
            MaxActive               3
            SpawnCount              3
            WaitBeforeStarting      15
            TotalCurrency           150

            Squad
            {
                TFBot
                {
                    Template        T_TFBot_Giant_Pyro
                    Attributes      AlwaysFireWeapon
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                }
            }
        }

        WaveSpawn
        {
            Name                    1-CSupport
            Where                   spawnbot_flank
            WaitForAllSpawned       BossA
            TotalCount              18
            MaxActive               6
            SpawnCount              6
            WaitBetweenSpawns       14
            TotalCurrency           50
            Support                 Limited

            TFBot
            {
                Name                    "Conch Pickaxe Soldier"
                Class                   Soldier
                Skill                   Expert
                ClassIcon               soldier_conch_pickaxe
                WeaponRestrictions      MeleeOnly
                Attributes              SpawnWithFullCharge
                Item                    "The Escape Plan"
                Item                    "The Concheror"

                ItemAttributes
                {
                    ItemName                    "The Escape Plan"
                    "critboost on kill"         5
                    "self mark for death"       1
                }

                CharacterAttributes
                {
                    "increase buff duration"    9.0
                }
            }
        }

        WaveSpawn
        {
            Where                   spawnbot
            WaitForAllSpawned       BossA

            FirstSpawnOutput
            {
                Target      wave_start_relay
                Action      RunScriptCode
                Param       "
                    EntFire(`shake`,`startshake`)  
                "
            }
        }

        WaveSpawn
        {
            Name                    SudoSound1
            Where                   spawnbot
            WaitBeforeStarting      2
            WaitForAllDead          1-C

            FirstSpawnOutput
            {
                Target      wave_start_relay
                Action      RunScriptCode
                Param       "
                    ClientPrint(null, 3, `\x079C1010A Snowstorm brews over you as the bomb gets sweeped away....Something is coming...`)
                    EntFire(`shake`,`startshake`)
                    DoEntFire(`relay_snow_heavy_start`, `Trigger`, `0`, 0, null, null);     
                "
            }
        }

        WaveSpawn
        {
            Where                       spawnbot
            WaitBeforeStarting          8
            WaitForAllSpawned           SudoSound1
            Name                        dummysound3
            Support                     Limited
            FirstSpawnWarningSound      misc/cp_harbor_red_whistle.wav	// sound plays after wbs ends

            FirstSpawnOutput
            {
                Target      wave_start_relay
                Action      RunScriptCode
                Param       "
					ClientPrint(null, 3, `\x079C1010A Boss Appears!`)
                    DoEntFire(`relay_snow_heavy_stop`, `Trigger`, `0`, 0, null, null);        
                "
            }
        }

        WaveSpawn
        {
            Name                    BossA
            WaitForAllSpawned       SudoSound1
            Where                   spawnbot_flank
            TotalCount              1
            MaxActive               1
            SpawnCount              1
            WaitBeforeStarting      10
            TotalCurrency           150

            RandomChoice
            {
                TFBot
                {
                    Template    T_TFBot_Giant_Soldier_Barrager_BumboBoss
                }

                TFBot
                {
                    Template    T_TFBot_Giant_TheSnowKnight
                }

                TFBot
                {
                    Template    T_TFBot_Giant_VeildedLady
                }
            }

            StartWaveOutput
            {
                Target      BigNet
                Action      RunScriptCode
                Param       "
					EntFire(`intel`, `ForceResetSilent`, null, 3.9, null)
				"
            }
        }

        WaveSpawn
        {
            Name                    1-Support1
            Where                   spawnbot_flank
            WaitForAllSpawned       1-bait
            TotalCount              28
            MaxActive               8
            SpawnCount              4
            WaitBeforeStarting      15
            WaitBetweenSpawns       13
            TotalCurrency           50
            Support                 Limited

            TFBot
            {
                Template    T_TFBot_Demoman
                Name        "Weak Snowball Demoman"
                Skill       Easy

                ItemAttributes
                {
                    ItemName                            TF_WEAPON_GRENADELAUNCHER
                    // steal this for model lawl @floro
                    "custom projectile model"           models/weapons/w_models/w_baseball.mdl
                    "mult projectile scale"             1.3 [$Sigsegv]
                    "apply look velocity on damage"     300
                    "blast dmg to self increased"       0
                    "blast radius increased"            .05
                    "projectile trail particle"         ~critical_rocket_blue
                    //
                }
            }
        }
    }

    Wave
    {
        StartWaveOutput
        {
            Target      wave_start_relay
            Action      Trigger
        }

        Initwaveoutput
        {
            Target      wave_start_relay
            Action      RunScriptCode
            Param       "
 			IncludeScript(`popextensions_main`, getroottable())
			IncludeScript(`wildfrost_phases`, getroottable())    
            DoEntFire(`relay_snow_light_start`, `Trigger`, `0`, 0, null, null);       
            SpawnEntityFromTable(`env_shake`,{
            targetname = `shake`
            origin = Vector(-3122, -8, 232)
            amplitude = 12
            spawnflags = `5`
            duration = 12
            frequency = 20
            })
           "
        }

        DoneOutput
        {
            Target      wave_finished_relay
            Action      trigger
        }
        WaitWhenDone    65
        Checkpoint      Yes

        WaveSpawn
        {
            Name                    2-A
            Where                   spawnbot
            TotalCount              3
            MaxActive               3
            SpawnCount              1
            WaitBetweenSpawns       23
            TotalCurrency           100

            TFBot
            {
                Template    T_TFBot_Giant_Pyro_Flare_Spammer
                Name        "Firey Giant Pyro Flare Spammer"
            }
        }

        WaveSpawn
        {
            Name                    2-ASupport
            Where                   spawnbot
            TotalCount              28
            MaxActive               8
            SpawnCount              4
            WaitBetweenSpawns       14
            TotalCurrency           100

            TFBot
            {
                Class       Soldier
                Name        "Snowball Soldier"
                Skill       Easy

                ItemAttributes
                {
                    ItemName                            TF_WEAPON_ROCKETLAUNCHER
                    // steal this for model lawl @floro
                    "custom projectile model"           models/weapons/w_models/w_baseball.mdl
                    "mult projectile scale"             1.8 [$Sigsegv]
                    "apply look velocity on damage"     300
                    "blast dmg to self increased"       0
                    "projectile trail particle"         ~critical_rocket_blue
                    //
                }
            }
        }

        WaveSpawn
        {
            Name                    2-ASupportb
            Where                   spawnbot
            TotalCount              24
            MaxActive               8
            SpawnCount              4
            WaitBetweenSpawns       17
            TotalCurrency           50

            TFBot
            {
                Class       Scout
                Skill       Easy
            }
        }

        WaveSpawn
        {
            Name                    2-Ab
            Where                   spawnbot_flank
            TotalCount              2
            MaxActive               1
            SpawnCount              1
            WaitBeforeStarting      15
            WaitBetweenSpawns       20
            TotalCurrency           100

            TFBot
            {
                Template    T_TFBot_Giant_Soldier_Crit
                Name        "Snowball Slow Crit Soldier"

                ItemAttributes
                {
                    ItemName                            "The Original"
                    // steal this for model lawl @floro
                    "custom projectile model"           models/weapons/w_models/w_baseball.mdl
                    "mult projectile scale"             1.8 [$Sigsegv]
                    "apply look velocity on damage"     300
                    "blast dmg to self increased"       0
                    "projectile trail particle"         ~critical_rocket_blue
                    //
                }
            }
        }

        WaveSpawn
        {
            Name                    2-B
            Where                   spawnbot_flank
            WaitForAllSpawned       2-Ab
            TotalCount              8
            MaxActive               8
            SpawnCount              4
            WaitBeforeStarting      20
            WaitBetweenSpawns       25
            TotalCurrency           100

            Squad
            {
                TFBot
                {
                    Template        T_TFBot_Giant_Boxing_Heavy
                    Name            "Da Fast GRU Heavy"
                    ClassIcon       heavy_gru
                    Item            "Gloves of Running Urgently MvM"
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                }
            }
        }

        WaveSpawn
        {
            Name                    2-BSupport
            Where                   spawnbot_flank
            WaitForAllSpawned       2-Ab
            TotalCount              28
            MaxActive               8
            SpawnCount              4
            WaitBeforeStarting      5
            WaitBetweenSpawns       25
            TotalCurrency           50
            Support                 Limited

            RandomChoice
            {
                TFBot
                {
                    Template    T_TFBot_Heavyweapons_Heavyweight_Champ
                }

                TFBot
                {
                    Template    T_TFBot_Heavyweapons_Heavyweight_Champ_Fast
                }

                TFBot
                {
                    Template    T_TFBot_Heavyweapons_Heavyweight_Champ_Fast
                }
            }
        }

        WaveSpawn
        {
            Where                   spawnbot
            WaitBeforeStarting      2
            WaitForAllDead          2-B

            FirstSpawnOutput
            {
                Target      wave_start_relay
                Action      RunScriptCode
                Param       "
                    ClientPrint(null, 3, `\x079C1010A Snowstorm brews over you as the bomb gets sweeped away....Something is coming...`)
                    EntFire(`shake`,`startshake`)
                    DoEntFire(`relay_snow_heavy_start`, `Trigger`, `0`, 0, null, null);     
                "
            }
        }

        WaveSpawn
        {
            Where                       spawnbot
            WaitForAllSpawned           Phase1
            Name                        dummysound1
            Support                     Limited
            FirstSpawnWarningSound      misc/cp_harbor_red_whistle.wav

            FirstSpawnOutput
            {
                Target      wave_start_relay
                Action      RunScriptCode
                Param       "
					ClientPrint(null, 3, `\x079C1010Bamboozle Appears!`)
                    DoEntFire(`relay_snow_heavy_stop`, `Trigger`, `0`, 0, null, null);        
                "
            }
        }

        WaveSpawn
        {
            Name                    Phase1
            Where                   spawnbot_flank
            TotalCount              1
            MaxActive               1
            SpawnCount              1
            WaitBeforeStarting      10
            WaitForAllDead          2-B
            WaitBetweenSpawns       0
            TotalCurrency           100

            TFBot
            {
                Template    T_TFBot_Giant_Demo_BamboozleBossPhase1
            }

            StartWaveOutput
            {
                Target      BigNet
                Action      RunScriptCode
                Param       "
					EntFire(`intel`, `ForceResetSilent`, null, 3.9, null)
				"
            }
        }

        // WaveSpawn
        // {
        // Where                   spawnbot
        // WaitForAllSpawned       Phase2
        //
        // FirstSpawnOutput
        // {
        // Target      wave_start_relay
        // Action      RunScriptCode
        // Param       "
        // EntFire(`shake`,`startshake`)
        // "
        // }
        // }
        WaveSpawn
        {
            Name                    Phase2
            Where                   spawnbot
            TotalCount              1
            MaxActive               1
            SpawnCount              1
            WaitBetweenSpawns       0
            TotalCurrency           100
            WaitForAllDead          Phase1
            Support                 Limited	// Fix rc rc yummersing wavebar

            RandomChoice
            {
                RandomChoice
                {
                    TFBot
                    {
                        Template    T_TFBot_Giant_Demo_BamBossPhrase2
                    }
                }
            }
        }

        WaveSpawn
        {
            Name                    Phase2
            Where                   spawnbot
            TotalCount              1
            MaxActive               1
            SpawnCount              1
            WaitBetweenSpawns       0
            TotalCurrency           100
            WaitForAllDead          Phase1
            Support                 Limited	// Fix rc rc yummersing wavebar

            RandomChoice
            {
                RandomChoice
                {
                    TFBot
                    {
                        Template    T_TFBot_Giant_Demo_BoozleBossPhrase2
                    }
                }
            }
        }

        WaveSpawn
        {
            Where               spawnbot
            WaitForAllDead      Phase1
            Name                dummysound1
            Support             Limited

            FirstSpawnOutput
            {
                Target      wave_start_relay
                Action      RunScriptCode
                Param       "
	    				ClientPrint(null, 3, `\x079C1010Bam and Boozle Appears!`)
     
                    "
            }
        }

        WaveSpawn
        {
            Where               spawnbot
            WaitForAllDead      Phase1
            Name                dummysound1
            Support             Limited

            FirstSpawnOutput
            {
                Target      wave_start_relay
                Action      RunScriptCode
                Param       "
	    				    ClientPrint(null, 3, `\x079C1010Bam and Boozle Appears!`)
     
                        "
            }
        }
    }

    Wave
    {
        StartWaveOutput
        {
            Target      wave_start_relay
            Action      Trigger
        }

        Initwaveoutput
        {
            Target      wave_start_relay
            Action      RunScriptCode
            Param       "
            DoEntFire(`relay_snow_light_start`, `Trigger`, `0`, 0, null, null);   
 			IncludeScript(`popextensions_main`, getroottable())
			IncludeScript(`wildfrost_phases`, getroottable())           
            SpawnEntityFromTable(`env_shake`,{
            targetname = `shake`
            origin = Vector(-3122, -8, 232)
            amplitude = 12
            spawnflags = `5`
            duration = 15
            frequency = 20
            })
            "
        }

        DoneOutput
        {
            Target      wave_finished_relay
            Action      trigger
        }
        WaitWhenDone    65
        Checkpoint      Yes

        StartWaveOutput
        {
            Target      bombpath_arrows_clear_relay
            Action      Trigger
        }

        DoneOutput
        {
            Target      bombpath_wavefinished
            Action      Trigger
        }

        WaveSpawn
        {
            Where                   spawnbot_flank
            Name                    punchie3
            TotalCount              40
            MaxActive               18
            SpawnCount              8
            WaitBeforeStarting      0
            WaitBetweenSpawns       6
            TotalCurrency           50

            Squad
            {
                TFBot
                {
                    Template    T_TFBot_Heavyweapons_Heavyweight_Champ_Fast
                }

                TFBot
                {
                    Template    T_TFBot_Medic_BigHeal
                }
            }
        }

        WaveSpawn
        {
            Where                   spawnbot
            TotalCount              2
            MaxActive               2
            SpawnCount              1
            WaitBeforeStarting      0
            WaitBetweenSpawns       20
            TotalCurrency           50

            TFBot
            {
                Template    T_TFBot_Giant_Soldier_Extended_Battalion
            }
        }

        WaveSpawn
        {
            Where                   spawnbot
            Name                    pyros3
            WaitForAllDead          punchie3
            TotalCount              80
            MaxActive               14
            SpawnCount              1
            WaitBeforeStarting      0
            WaitBetweenSpawns       1
            TotalCurrency           100

            RandomChoice
            {
                TFBot
                {
                    Class           Pyro
                    Skill           Easy
                    Attributes      AlwaysFireWeapon
                }

                TFBot
                {
                    Template    T_TFBot_Pyro_Flaregun
                }
            }
        }

        WaveSpawn
        {
            Where                   spawnbot
            WaitForAllDead          punchie3
            TotalCount              2
            MaxActive               1
            SpawnCount              1
            WaitBeforeStarting      20
            WaitBetweenSpawns       0
            TotalCurrency           200

            TFBot
            {
                Template    T_TFBot_Heavyweapons_Heater
            }
        }

        WaveSpawn
        {
            Name                    Tank
            WaitBeforeStarting      3
            WaitForAllDead          w3-1
            TotalCount              1
            TotalCurrency           300

            FirstSpawnOutput
            {
                Target      boss_spawn_relay
                Action      Trigger
            }

            Tank
            {
                Health                      25000
                Speed                       75
                Name                        TankBoss
                StartingPathTrackNode       boss_path_0_1

                OnKilledOutput
                {
                    Target      boss_dead_relay
                    Action      Trigger
                }

                OnBombDroppedOutput
                {
                    Target      boss_deploy_relay
                    Action      Trigger
                }
            }
        }   
    }

    Wave
    {
        StartWaveOutput
        {
            Target      wave_start_relay
            Action      Trigger
        }

        Initwaveoutput
        {
            Target      wave_start_relay
            Action      RunScriptCode
            Param       "
            DoEntFire(`relay_snow_light_start`, `Trigger`, `0`, 0, null, null);       
            SpawnEntityFromTable(`env_shake`,{
            targetname = `shake`
            origin = Vector(-3122, -8, 232)
            amplitude = 12
            spawnflags = `5`
            duration = 12
            frequency = 20
            })
            "
        }   

        DoneOutput
        {
            Target      wave_finished_relay
         Action      trigger
        }
        WaitWhenDone    65
        Checkpoint      Yes

        WaveSpawn
        {
            Where                   spawnbot_flank
            Name                    mannhattan4
            TotalCount              3
            MaxActive               2
            SpawnCount              1
            WaitBeforeStarting      0.5
            WaitBetweenSpawns       20
            TotalCurrency           100

            TFBot
            {
                Template    T_TFBot_Giant_Soldier_Spammer_Reload
            }
        }

        WaveSpawn
        {
            Where                   spawnbot
            Name                    conch4
            TotalCount              64
            MaxActive               16
            SpawnCount              6
            WaitBeforeStarting      0
            WaitBetweenSpawns       0
            TotalCurrency           100

            RandomChoice
            {
                TFBot
                {
                    Template    T_TFBot_Soldier_Extended_Concheror
                }

                TFBot
                {   
                    Name                    "Fast Miner Soldier"
                    Class                   Soldier
                    Skill                   Expert
                    ClassIcon               soldier_conch_pickaxe
                    WeaponRestrictions      MeleeOnly
                    Item                    "The Escape Plan"
                    Attributes              SpawnWithFullCharge
                    Item                    "The Concheror"

                    ItemAttributes
                    {
                        ItemName                    "The Escape Plan"
                        "critboost on kill"         5
                        "self mark for death"       0
                    }

                    CharacterAttributes
                    {
                        "increase buff duration"    9.0
                    }
                }
            }
        }

        WaveSpawn
        {
            Where                   spawnbot_flank
            Name                    gpyros4
            WaitForAllSpawned       mannhattan4
            TotalCount              6
            MaxActive               6
            SpawnCount              3
            WaitBeforeStarting      10
            WaitBetweenSpawns       30
            TotalCurrency           400

            Squad
            {
                TFBot
                {
                    Template        T_TFBot_Giant_Pyro
                    Attributes      AlwaysFireWeapon
                    Skill           Easy
                }

                TFBot
                {
                    Template    T_TFBot_Giant_Pyro
                }

                TFBot
                {
                    Template    T_TFBot_Giant_Pyro
                }
            }
        }

        WaveSpawn
        {
            Where                   spawnbot
            WaitForAllSpawned       conch4
            TotalCount              100
            MaxActive               12
            SpawnCount              2
            WaitBeforeStarting      0
            WaitBetweenSpawns       2
            TotalCurrency           100
            Support                 1

            RandomChoice
            {
                TFBot
                {
                    Template    T_TFBot_Pyro_Flaregun
                }
            }
        }
    }

    Wave
    {
        StartWaveOutput
        {
            Target      wave_start_relay
            Action      Trigger
        }

        Initwaveoutput
        {
            Target      wave_start_relay
            Action      RunScriptCode
            Param       "
            DoEntFire(`relay_snow_light_start`, `Trigger`, `0`, 0, null, null);   
            SpawnEntityFromTable(`env_shake`,{
            targetname = `shake`
            origin = Vector(-3122, -8, 232)
            amplitude = 16
            spawnflags = `5`
            duration = 10
            frequency = 20
            })
            "
        }

        DoneOutput
        {
            Target      wave_finished_relay
            Action      trigger
        }
        WaitWhenDone    65
        Checkpoint      Yes

        WaveSpawn
        {
            Name                5-A
            Where               spawnbot_flank
            TotalCount          3
            MaxActive           3
            SpawnCount          3
            TotalCurrency       50

            Squad
            {
                TFBot
                {
                    Template    T_TFBot_Giant_Soldier_Extended_Concheror
                    Name "Giant Conch Snowball Soldier"

                    ItemAttributes
                    {
                        ItemName                            TF_WEAPON_ROCKETLAUNCHER
                        // steal this for model lawl @floro
                        "custom projectile model"           models/weapons/w_models/w_baseball.mdl
                        "mult projectile scale"             1.8 [$Sigsegv]
                        "apply look velocity on damage"     300
                        "blast dmg to self increased"       0
                        "projectile trail particle"         ~critical_rocket_blue
                        //
                    }
                }

                TFBot
                {
                    Class           Medic
                    ClassIcon       medic_uber_armored
                    Name            "Armored Uber Medic"
                    Health          750
                    Skill           Expert
                    Attributes      SpawnWithFullCharge
                    Tag             bot_giant
                    Scale           1.37
                    Item            "The Warsworn Helmet"

                    CharacterAttributes
                    {
                        "heal rate bonus"       5
                    }
                }

                TFBot
                {
                    Class           Medic
                    ClassIcon       medic_uber_armored
                    Name            "Armored Uber Medic"
                    Health          750
                    Skill           Expert
                    Attributes      SpawnWithFullCharge
                    Tag             bot_giant
                    Scale           1.37
                    Item            "The Warsworn Helmet"

                    CharacterAttributes
                    {
                        "heal rate bonus"       5
                    }
                }
            }
        }

        WaveSpawn
        {
            Name                    W5_Wank
            WaitBeforeStarting      30
            SpawnCount              1
            TotalCount              1
            TotalCurrency           200

            FirstSpawnOutput
            {
                Target      boss_spawn_relay
                Action      Trigger
            }

            Tank
            {
                Health                      25000
                Speed                       75
                Name                        TankBoss
                StartingPathTrackNode       boss_path_0_1

                OnKilledOutput
                {
                    Target      boss_dead_relay
                    Action      Trigger
                }

                OnBombDroppedOutput
                {
                    Target      boss_deploy_relay
                    Action      Trigger
                }
            }

            FirstSpawnOutPut
            {
                Target      wave_start_relay
                Action      RunScriptCode
                Param       "
                ClientPrint(null,3,`\x0799CCFFTank deployed with 25k (25000) HP!`)
                "
            }
        }

        WaveSpawn
        {
            Name                    5-ASupport
            Where                   spawnbot
            TotalCount              18
            MaxActive               6
            SpawnCount              3
            WaitBeforeStarting      5
            WaitBetweenSpawns       12
            TotalCurrency           100

            TFBot
            {
                Template    T_TFBot_Heavy_IronFist_Airblast
            }
        }

        WaveSpawn
        {
            Name                    5-ASupportb
            Where                   spawnbot
            TotalCount              28
            MaxActive               12
            SpawnCount              6
            WaitBetweenSpawns       14
            TotalCurrency           50

            TFBot
            {
                Template    T_TFBot_Pyro_Flaregun
            }
        }

        WaveSpawn
        {
            Name                    5-B
            Where                   spawnbot_flank
            TotalCount              6
            MaxActive               6
            SpawnCount              3
            WaitForAllSpawned       W5_Wank
            WaitBeforeStarting      35
            WaitBetweenSpawns       25
            TotalCurrency           100

            Squad
            {
                TFBot
                {
                    Template    T_TFBot_Giant_Soldier_Extended_Concheror
                    Name "Giant Conch Snowball Soldier"

                    ItemAttributes
                    {
                        ItemName                            TF_WEAPON_ROCKETLAUNCHER
                        // steal this for model lawl @floro
                        "custom projectile model"           models/weapons/w_models/w_baseball.mdl
                        "mult projectile scale"             1.8 [$Sigsegv]
                        "apply look velocity on damage"     300
                        "blast dmg to self increased"       0
                        "projectile trail particle"         ~critical_rocket_blue
                        //
                    }
                }

                TFBot
                {
                    Class           Medic
                    ClassIcon       medic_uber_armored
                    Name            "Armored Uber Medic"
                    Health          750
                    Skill           Expert
                    Attributes      SpawnWithFullCharge
                    Tag             bot_giant
                    Scale           1.37
                    Item            "The Warsworn Helmet"

                    CharacterAttributes
                    {
                        "heal rate bonus"       5
                    }
                }

                TFBot
                {
                    Class           Medic
                    ClassIcon       medic_uber_armored
                    Name            "Armored Uber Medic"
                    Health          750
                    Skill           Expert
                    Attributes      SpawnWithFullCharge
                    Tag             bot_giant
                    Scale           1.37
                    Item            "The Warsworn Helmet"

                    CharacterAttributes
                    {
                        "heal rate bonus"       5
                    }
                }
            }
        }

        WaveSpawn
        {
            Name                    5-BSupport
            Where                   spawnbot_flank
            TotalCount              30
            MaxActive               12
            SpawnCount              6
            WaitBetweenSpawns       10
            TotalCurrency           50
            WaitForAllSpawned       W5_Wank
            Support                 Limited

            TFBot
            {
                Template    T_TFBot_Scout_Scattergun_SlowFire
            }
        }

        WaveSpawn
        {
            Name                    5-C
            Where                   spawnbot
            TotalCount              2
            MaxActive               2
            SpawnCount              2
            WaitBeforeStarting      15
            TotalCurrency           50

            Squad
            {
                TFBot
                {
                    Template    T_TFBot_Giant_Demo_Burst
                    Name "Giant Burst Snowball Demoman"

                    ItemAttributes
                    {
                        ItemName                            TF_WEAPON_GRENADELAUNCHER
                        // steal this for model lawl @floro
                        "custom projectile model"           models/weapons/w_models/w_baseball.mdl
                        "mult projectile scale"             1.8 [$Sigsegv]
                        "apply look velocity on damage"     300
                        "blast dmg to self increased"       0
                        "projectile trail particle"         ~critical_rocket_blue
                        //
                    }
                }

                TFBot
                {
                    Template    T_TFBot_Giant_Medic_Regen
                }
            }
        }

        WaveSpawn
        {
            Name                    5-C2
            Where                   spawnbot_flank
            WaitForAllSpawned       W5_Wank
            TotalCount              2
            MaxActive               2
            SpawnCount              2
            WaitBeforeStarting      20
            TotalCurrency           100

            Squad
            {
                TFBot
                {
                    Template    T_TFBot_Giant_Demo_Burst
                    Name "Giant Burst Snowball Demoman"

                    ItemAttributes
                    {
                        ItemName                            TF_WEAPON_GRENADELAUNCHER
                        // steal this for model lawl @floro
                        "custom projectile model"           models/weapons/w_models/w_baseball.mdl
                        "mult projectile scale"             1.8 [$Sigsegv]
                        "apply look velocity on damage"     300
                        "blast dmg to self increased"       0
                        "projectile trail particle"         ~critical_rocket_blue
                        //
                    }
                }

                TFBot
                {
                    Template    T_TFBot_Giant_Medic_Regen
                }
            }
        }

        // WaveSpawn
        // {
        // Where                   spawnbot
        // WaitForAllSpawned       BossC
        //
        // FirstSpawnOutput
        // {
        // Target      wave_start_relay
        // Action      RunScriptCode
        // Param       "
        // EntFire(`shake`,`startshake`)
        // "
        // }
        // }
        WaveSpawn
        {
            Name                    SudoSound1
            Where                   spawnbot
            WaitBeforeStarting      2
            WaitForAllDead          5-B

            FirstSpawnOutput
            {
                Target      wave_start_relay
                Action      RunScriptCode
                Param       "
                    ClientPrint(null, 3, `\x079C1010A Snowstorm brews over you as the bomb gets sweeped away....Something is coming...`)
                    EntFire(`shake`,`startshake`)
                    DoEntFire(`relay_snow_heavy_start`, `Trigger`, `0`, 0, null, null);     
                "
            }
        }

        WaveSpawn
        {
            Where                       spawnbot
            WaitBeforeStarting          15
            WaitForAllSpawned           SudoSound1
            Name                        dummysound3
            Support                     Limited

            FirstSpawnOutput
            {
                Target      wave_start_relay
                Action      RunScriptCode
                Param       "
					ClientPrint(null, 3, `\x079C1010Kill him before he goes back to his minigun!`)
                    DoEntFire(`relay_snow_heavy_stop`, `Trigger`, `0`, 0, null, null);        
                "
            }
        }
        WaveSpawn
        {
            Where                       spawnbot
            WaitBeforeStarting          8
            WaitForAllSpawned           SudoSound1
            Name                        dummysound3
            Support                     Limited
            FirstSpawnWarningSound      misc/cp_harbor_red_whistle.wav	// sound plays after wbs ends

            FirstSpawnOutput
            {
                Target      wave_start_relay
                Action      RunScriptCode
                Param       "
					ClientPrint(null, 3, `\x079C1010King Moko Appears!`)
                    DoEntFire(`relay_snow_heavy_stop`, `Trigger`, `0`, 0, null, null);        
                "
            }
        }
        WaveSpawn
        {
            Name                    BossC
            WaitForAllSpawned       SudoSound1
            WaitBeforeStarting      8
            Where                   spawnbot_flank
            TotalCount              1
            MaxActive               1
            SpawnCount              1
            TotalCurrency           150

            TFBot
            {
                Template    T_TFBot_Giant_KingMoko
            }

            StartWaveOutput
            {
                Target      BigNet
                Action      RunScriptCode
                Param       "
					EntFire(`intel`, `ForceResetSilent`, null, 3.9, null)
				"
            }
        }

        WaveSpawn
        {
            Name                    5-BossSupport
            Where                   spawnbot
            WaitForAllSpawned       BossC
            TotalCount              99
            MaxActive               12
            SpawnCount              6
            WaitBetweenSpawns       5
            TotalCurrency           50
            Support                 Limited

            TFBot
            {
                Template    T_TFBot_Demoman_Knight
            }
        }
    }


    Wave
    {
        StartWaveOutput
        {
            Target      wave_start_relay
            Action      Trigger
        }

        Initwaveoutput
        {
            Target      wave_start_relay
            Action      RunScriptCode
            Param       "
            DoEntFire(`relay_snow_light_start`, `Trigger`, `0`, 0, null, null);   
            SpawnEntityFromTable(`env_shake`,{
            targetname = `shake`
            origin = Vector(-3122, -8, 232)
            amplitude = 16
            spawnflags = `5`
            duration = 10
            frequency = 20
            })
            "
        }

        DoneOutput
        {
            Target      wave_finished_relay
            Action      trigger
        }
        WaitWhenDone    65
        Checkpoint      Yes

        WaveSpawn
        {
            Name                    W6-1a
            Where                   spawnbot_flank
            TotalCount              2
            MaxActive               2
            SpawnCount              2
            WaitBeforeStarting      38
            TotalCurrency           100

            Squad
            {
                TFBot
                {
                    Template                T_TFBot_Giant_Soldier_Spammer
                    Name "Giant Buff Banner Snowball Spammer Soldier"
                    ClassIcon               soldier_buff_spammer_giant
                    Attributes              SpawnWithFullCharge
                    WeaponRestrictions      PrimaryOnly
                    Item                    "The Buff Banner"

                    ItemAttributes
                    {
                        ItemName                            TF_WEAPON_ROCKETLAUNCHER
                        // steal this for model lawl @floro
                        "custom projectile model"           models/weapons/w_models/w_baseball.mdl
                        "mult projectile scale"             1.8 [$Sigsegv]
                        "apply look velocity on damage"     300
                        "blast dmg to self increased"       0
                        "projectile trail particle"         ~critical_rocket_blue
                        //
                    }

                    CharacterAttributes
                    {
                        "move speed bonus"                      0.5
                        "damage force reduction"                0.4
                        "airblast vulnerability multiplier"     0.4
                        "override footstep sound set"           3
                        "increase buff duration"                9.0
                    }
                }

                TFBot
                {
                    Template        T_TFBot_Giant_Medic	// yes a popper its BIGROCK DEAL WITH ITTTTT :trolley:
                    ClassIcon       medic_pop
                }
            }
        }

        WaveSpawn
        {
            Name                W6-1b
            Where               spawnbot
            WaitBeforeStarting  5
            TotalCount          2
            MaxActive           2
            SpawnCount          2
            TotalCurrency       100

            Squad
            {
                TFBot
                {
                    Template                T_TFBot_Giant_Soldier_Spammer
                    Name "Giant Buff Banner Snowball Spammer Soldier"
                    ClassIcon               soldier_buff_spammer_giant
                    Attributes              SpawnWithFullCharge
                    WeaponRestrictions      PrimaryOnly
                    Item                    "The Buff Banner"

                    ItemAttributes
                    {
                        ItemName                            TF_WEAPON_ROCKETLAUNCHER
                        // steal this for model lawl @floro
                        "custom projectile model"           models/weapons/w_models/w_baseball.mdl
                        "mult projectile scale"             1.8 [$Sigsegv]
                        "apply look velocity on damage"     300
                        "blast dmg to self increased"       0
                        "projectile trail particle"         ~critical_rocket_blue
                        //
                    }

                    CharacterAttributes
                    {
                        "move speed bonus"                      0.5
                        "damage force reduction"                0.4
                        "airblast vulnerability multiplier"     0.4
                        "override footstep sound set"           3
                        "increase buff duration"                9.0
                    }
                }

                TFBot
                {
                    Template        T_TFBot_Giant_Medic	// yes a popper its BIGROCK DEAL WITH ITTTTT :trolley:
                    ClassIcon       medic_pop
                }
            }
        }

        WaveSpawn
        {
            Name                    W6-1support
            Where                   spawnbot
            TotalCount              18
            MaxActive               12
            SpawnCount              6
            WaitBetweenSpawns       10
            TotalCurrency           50

            TFBot
            {
                Class           Pyro
                Skill           Expert
                ClassIcon       pyro_hyper_lite
                Name            "Crit Pyro"
                Attributes      AlwaysCrit
                Attributes      AlwaysFireWeapon
				ItemAttributes 
				{
					ItemName "TF_WEAPON_FLAMETHROWER"
					"damage bonus"	2.0
				}
				CharacterAttributes
				{
					"move speed bonus"	1.5
				}
			}
        }

        WaveSpawn
        {
            Name                    W6-1supporta
            Where                   spawnbot
            TotalCount              24
            MaxActive               12
            SpawnCount              6
            WaitBetweenSpawns       10
            TotalCurrency           50

            TFBot
            {
                Class           Heavy
                Skill           Easy
                ClassIcon       heavy_heater
                Name            "Heater Heavy"
                Item            "The Huo Long Heatmaker"
                Item            "The Bunsen Brave"
            }
        }

        WaveSpawn
        {
            Name                    W5_Wans
            WaitBeforeStarting      45
            WaitForAllSpawned       W6-1b
            WaitBetweenSpawns       25
            TotalCount              1
            TotalCurrency           200

            FirstSpawnOutput
            {
                Target      boss_spawn_relay
                Action      Trigger
            }

            Tank
            {
                Health                      30000
                Speed                       75
                Name                        TankBoss
                StartingPathTrackNode       boss_path_0_1

                OnKilledOutput
                {
                    Target      boss_dead_relay
                    Action      Trigger
                }

                OnBombDroppedOutput
                {
                    Target      boss_deploy_relay
                    Action      Trigger
                }
            }

            FirstSpawnOutPut
            {
                Target      wave_start_relay
                Action      RunScriptCode
                Param       "
                ClientPrint(null,3,`\x0799CCFFTank deployed with 30k (30000) HP!`)
                "
            }
        }

        WaveSpawn
        {
            Name                    W5_Wank
            WaitBeforeStarting      20
            WaitForAllSpawned       W5_Wans
            TotalCount              1
            TotalCurrency           200

            FirstSpawnOutput
            {
                Target      boss_spawn_relay
                Action      Trigger
            }

            Tank
            {
                Health                      25000
                Speed                       75
                Name                        TankBoss
                StartingPathTrackNode       boss_path_0_1

                OnKilledOutput
                {
                    Target      boss_dead_relay
                    Action      Trigger
                }

                OnBombDroppedOutput
                {
                    Target      boss_deploy_relay
                    Action      Trigger
                }
            }

            FirstSpawnOutPut
            {
                Target      wave_start_relay
                Action      RunScriptCode
                Param       "
                ClientPrint(null,3,`\x0799CCFFTank deployed with 25k (25000) HP!`)
                "
            }
        }

        WaveSpawn
        {
            Name                    W6-2a
            Where                   spawnbot_flank
            WaitForAllSpawned       W5_Wank
            TotalCount              9
            MaxActive               9
            SpawnCount              3
            WaitBetweenSpawns       25
            WaitBeforeStarting      20
            TotalCurrency           50

            Squad
            {
                TFBot
                {
                    Template    T_TFBot_Giant_Heavyweapons_Deflector
                }

                TFBot
                {
                    Class           Medic
                    ClassIcon       medic_uber_armored
                    Name            "Armored Uber Medic"
                    Health          750
                    Skill           Expert
                    Attributes      SpawnWithFullCharge
                    Tag             bot_giant
                    Scale           1.37
                    Item            "The Warsworn Helmet"

                    CharacterAttributes
                    {
                        "heal rate bonus"       5
                    }
                }

                TFBot
                {
                    Class           Medic
                    ClassIcon       medic_uber_armored
                    Name            "Armored Uber Medic"
                    Health          750
                    Skill           Expert
                    Attributes      SpawnWithFullCharge
                    Tag             bot_giant
                    Scale           1.37
                    Item            "The Warsworn Helmet"

                    CharacterAttributes
                    {
                        "heal rate bonus"       5
                    }
                }
            }
        }

        WaveSpawn
        {
            Name                    W6-2support
            Where                   spawnbot
            WaitForAllSpawned       W5_Wank
            TotalCount              28
            MaxActive               12
            SpawnCount              6
            WaitBetweenSpawns       3
            TotalCurrency           50
            Support                 Limited

            TFBot
            {
                Template    T_TFBot_Heavyweapons_Shotgun
            }
        }

        WaveSpawn
        {
            Name                    W6-2b
            Where                   spawnbot_flank
            WaitForAllSpawned       W6-2a
            TotalCount              2
            MaxActive               2
            SpawnCount              2
            WaitBeforeStarting      45
            TotalCurrency           50

            Squad
            {
                TFBot
                {
                    Template    T_TFBot_Soldier_BurstFire
                    Name        "Frostrock Sweep"

                    ItemAttributes
                    {
                        ItemName                            TF_WEAPON_ROCKETLAUNCHER
                        // steal this for model lawl @floro
                        "custom projectile model"           models/weapons/w_models/w_baseball.mdl
                        "mult projectile scale"             1.8 [$Sigsegv]
                        "apply look velocity on damage"     300
                        "blast dmg to self increased"       0
                        "projectile trail particle"         ~critical_rocket_blue
                        //
                    }

                    CharacterAttributes
                    {
                        "damage bonus"      0.5
                    }
                }

                TFBot
                {
                    Template    T_TFBot_Giant_Medic_Regen
                }
            }
        }

        WaveSpawn
        {
            Name                    W6-2b
            Where                   spawnbot_flank
            WaitForAllSpawned       W6-2a
            TotalCount              99
            MaxActive               10
            SpawnCount              5
            WaitBeforeStarting      45
            TotalCurrency           50
            Support                 Limited

            TFBot
            {
                Template        T_TFBot_Scout_Fish
                ClassIcon       scout_fish_nys
            }
        }

        WaveSpawn
        {
            Name                    W6-2bSUPPORT
            Where                   spawnbot_flank
            WaitForAllSpawned       W6-2a
            TotalCount              99
            MaxActive               10
            SpawnCount              5
            WaitBeforeStarting      43
            TotalCurrency           50
            Support                 Limited

            TFBot
            {
                Template        T_TFBot_Demoman
                Skill           Normal
                Attributes      AlwaysCrit
                ItemAttributes
                    {
                        ItemName                            TF_WEAPON_GRENADELAUNCHER
                        // steal this for model lawl @floro
                        "custom projectile model"           models/weapons/w_models/w_baseball.mdl
                        "mult projectile scale"             1.8 [$Sigsegv]
                        "apply look velocity on damage"     300
                        "blast dmg to self increased"       0
                        "projectile trail particle"         ~critical_rocket_blue
                        //
                    }
            }
        }
    }
}
